# ==============================================================================
# Honeypot Threat Intelligence Platform — Environment Configuration Template
#
# HOW TO USE:
#   cp .env.example .env
#   chmod 600 .env
#   # then edit .env to set strong passwords before running make deploy
#
# This file IS committed to git as a setup reference.
# The real .env file is gitignored — never commit it.
# ==============================================================================


# ─────────────────────────────────────────────────────────────────────────────
# ELASTIC STACK VERSION
# Elasticsearch, Logstash, and Kibana images must all use the same version.
# ─────────────────────────────────────────────────────────────────────────────
ELASTIC_VERSION=9.0.2


# ─────────────────────────────────────────────────────────────────────────────
# ELASTICSEARCH CREDENTIALS
# xpack.security is disabled in this research build but credentials are kept
# for when security is re-enabled.
#   Generate a strong password:  openssl rand -base64 32
# ─────────────────────────────────────────────────────────────────────────────
ELASTIC_USER=elastic
ELASTIC_PASSWORD=CHANGE_ME

KIBANA_PASSWORD=CHANGE_ME
KIBANA_SYSTEM_PASSWORD=CHANGE_ME
LOGSTASH_INTERNAL_PASSWORD=CHANGE_ME


# ─────────────────────────────────────────────────────────────────────────────
# ELASTICSEARCH CONNECTION STRINGS
# Do NOT change the hostname — it is the Docker service name.
# ─────────────────────────────────────────────────────────────────────────────
ELASTICSEARCH_HOSTS=http://elasticsearch:9200
ELASTICSEARCH_URL=http://elasticsearch:9200


# ─────────────────────────────────────────────────────────────────────────────
# JVM HEAP SIZES  (initial = max — never exceed 31 GB)
#
#   System RAM   ES heap       LS heap
#   ─────────────────────────────────
#   4 GB         512m / 512m   256m / 256m   ← WSL2 default
#   8 GB         1g   / 1g     512m / 512m
#   16 GB        2g   / 2g     1g   / 1g
# ─────────────────────────────────────────────────────────────────────────────
ES_JAVA_OPTS=-Xms512m -Xmx512m
LS_JAVA_OPTS=-Xms256m -Xmx256m


# ─────────────────────────────────────────────────────────────────────────────
# DOCKER NETWORK
# ─────────────────────────────────────────────────────────────────────────────
NETWORK_NAME=honeypot-network
SUBNET=172.25.0.0/16


# ─────────────────────────────────────────────────────────────────────────────
# HOST PORT MAPPINGS
# Change these if any port conflicts with an existing service on your machine.
# The container-internal ports are not affected by these values.
# ─────────────────────────────────────────────────────────────────────────────

# ELK Stack
ELASTICSEARCH_PORT=9200
KIBANA_PORT=5601
LOGSTASH_BEATS_PORT=5044
LOGSTASH_API_PORT=9600

# Web management dashboard
WEBAPP_PORT=5000

# Cowrie SSH/Telnet honeypot (non-standard to avoid clash with real SSH on 22)
COWRIE_SSH_PORT=2222
COWRIE_TELNET_PORT=2223

# Dionaea multi-protocol honeypot
# Windows/WSL2 reserves 445 (SMB), 135 (RPC), 443 (HTTPS), 1433, 3306.
# All are remapped to high ports here; containers still listen on real ports.
DIONAEA_FTP_PORT=2121
DIONAEA_DAYTIME_PORT=4042
DIONAEA_RPC_PORT=4135
DIONAEA_HTTPS_PORT=4443
DIONAEA_SMB_PORT=4445
DIONAEA_MSSQL_PORT=4433
DIONAEA_MYSQL_PORT=4306
DIONAEA_SIP_PORT=5060
DIONAEA_SIPS_PORT=5061

# Flask HTTP honeypot (8080 often in use on Windows — default to 8181)
FLASK_HTTP_PORT=8181


# ─────────────────────────────────────────────────────────────────────────────
# APPLICATION SETTINGS
# ─────────────────────────────────────────────────────────────────────────────
TZ=UTC
FLASK_ENV=production
LOG_LEVEL=INFO
LOG_RETENTION_DAYS=30
